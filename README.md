# alexgres48_infra
alexgres48 Infra repository
#HomeWork_5 Знакомство с облачной инфраструктурой

bastion_IP = 35.240.104.69
someinternalhost_IP = 10.132.0.5

Создать config в ~/.ssh
Добавить:
Host bastion Hostname 35.240.104.69 User <appuser>
Host someinternalhost ProxyCommand ssh -q bastion nc -q0 10.132.0.5 22

Подключаемся: ssh <appuser>@someinternalhost

#######################################################################

#HomeWork_6 Основные сервисы Google Cloud Platform (GCP).

testapp_IP = 35.195.152.170
testapp_port = 9292

Выполнено:
1)Установлен sdk gcloud
2)Создан хост
3)Установлен ruby
4)Установлен mongodb (обновился ключ репо, новый добавлен в скрипт)
5)Запущено и проверено приложение
6)Созданы скрипты для каждого из этапов

#######################################################################

#HomeWork_7 Модели управления инфраструктурой.

Собрать образ при помощи Packer

1)Скачан и распакован сам Packer
2)Выданы права нв GCP
3)Создан шаблон образа
4)Собран образ на основе шаблона
5)Задеплоен образ
6)Задеплоено приложение
7)Шаблон образа параметризован

#######################################################################

#HomeWork_8 Практика IaC с использованием Terraform

Декларативное описание в виде кода инфраструктуры GCP, требуемой для запуска тестового приложения, при помощи Terraform.

1)Скачан и распакован сам Teraform
2)Создан конфигураций файл tf
3)Добавлено описание диска, ssh ключа, правила фаерволла и тега
4)Добавлено описание деплоя puma, файла описания сервиса и запуск деплоя
5)Шаблонизированы параметры
6)Отформатированы конфиги

#######################################################################

#HomeWork_9 Принципы организации инфраструктурного кода и работа над инфраструктурой в команде на примере Terraform.

Практика создания инфраструктуры: 
1)Созданы 2 дополнительных образа 
2)Созданы модули
3)Модули параметризованы
4)Создан бакет в сервисе Storage

#######################################################################

#HomeWork_10 Управление конфигурацией. Основные DevOps инструменты. Знакомство с Ansible.

Ознакомление с Ansible:
1)Установил Ansible
2)Создал два варианта iventory
3)Написан простейший play-book

#######################################################################

#HomeWork_11 Продолжение знакомства с Ansible: templates, handlers, dynamic inventory, vault, tags.<br/>

Используем плейбуки, хендлеры и шаблоны для конфигурации <br/>
окружения и деплоя тестового приложения. Подход один<br/>
плейбук, один сценарий (play)<br/>
Аналогично один плейбук, но много сценариев<br/>
И много плейбуков.<br/>
Изменим провижн образов Packer на Ansible-плейбуки<br/>

1)Деплой единым сценарием <br/>
2)Деплой БД и app ными сценариями<br/>
3)Раздельные плейбуки<br/>
4)Замена  provisioning для acker<br/>
<br/>
#######################################################################<br/>
<br/>
#HomeWork_12 Принципы организации кода для управления конфигурацией.<br/>
<br/>
1)Разделение плейбуков по ролям<br/>
2)Добавление Community-роли<br/>
3)Добавление в конфигурацию Terraform открытие 80 порта для инстанса приложения<br/>
4)Работа с Ansible Vault<br/>